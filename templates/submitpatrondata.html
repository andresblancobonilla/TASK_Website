<!DOCTYPE html>
<html>
    <head>
        <title>TASK.com</title>
		{% include 'imports.html' %}
    </head>
    <body class="forceOpenSans">
    {% include 'header.html' %}
    <div class="container-fluid">
		<div style="margin-top: 10px;">
			<center>
				<h2 style ="margin-left: 15%; margin-right: 15%; width:70%; justify-content:center; background-color:white">Enter Diner Data</h2>
				<hr>
				<h4 style ="margin-left: 15%; margin-right: 15%; width:70%; justify-content:center; background-color:white">You are in {{mealsite}}</h4>
			</center>
		</div>
		<hr>
		<form id = "patronForm" action="/submitpatrondata?mealsite={{mealsite}}" onsubmit="return validateForm()" method="get" style="margin-left: 5%; margin-right: 5%; width:90%;background-color: white;">
			<div class="row">
				<div class="col-sm-3">
					<div class="row">
						<center><p>Race (Select All That Apply)</p></center>
					</div>
					<div class="row">
						<center>
							<div class="btn-group btn-group-toggle" role="group" id="race-btns" data-toggle="buttons">
								{%for race in ['White','Black','Hispanic','Asian']%}
								<!-- <label class="btn btn-outline-secondary" id ="toggle-button-{{race}}">
									<input type="checkbox" name="race" id="btn-check-{{race}}" autocomplete="off">
									{{race}}
								</label> -->
								<label class="btn btn-outline-secondary" id ="toggle-button-{{race}}">
									<input type="checkbox" class="btn-check form-control patronInput mainButton" name="race" id="btn-check-{{race}}" autocomplete="off">
									{{race}}
								</label>
								<!-- <input type="checkbox" class="btn-check form-control patronInput mainButton" id="btn-check-{{race}}" name="{{race}}" value={{race}}>
								<label class="btn btn-secondary inactive-button" id = "toggle-button-{{race}}" for="btn-check-{{race}}">{{race}}</label> -->
								{%endfor%}
							</div>
						</center>
					</div>
					<div class="row">
						<center>
							<text>Other: </text>
							<select name="otherraces" id = "otherraces">  
								{% for race in ['Unknown', 'American Indian/Alaska Native', 'Native Hawaiian/ Pacific Islander'] %}
								<option value="{{race}}">{{race}}</option>
								{% endfor %}
							</select>
						</center>
					</div>
				</div>
				
				<div class="col-sm-6">
					<div class="row">
						<center>Age Range</center>
					</div>
					<div class="row">
						<center>
							<div class="btn-group btn-group-toggle" role="group" id="age-btns" data-toggle="buttons">
								{%for age in ['{<}18','18-29', '30-42', '43-54', '55-66', '>66']%}
								<label class="btn btn-outline-secondary" id ="toggle-button-{{age}}">
									<input type="radio" name="age_range" id="btn-check-{{age}}" autocomplete="off">
									{{age}}
								</label>
								<!-- <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-{{age}}" name="age" value={{age}}>
								<label class="btn btn-secondary inactive-button" id = "toggle-button-{{age}}" for="btn-check-{{age}}">{{age}} </label> -->
								{%endfor%}
							</div>
						</center>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="row">
						<center><p>Language</p></center>
					</div>
					<div class="row">
						<center>
							<div class="btn-group btn-group-toggle" role="group" id="lang-btns" data-toggle="buttons">
								{%for lang in ['English','Spanish']%}
								<label class="btn btn-outline-secondary" id ="toggle-button-{{lang}}">
									<input type="radio" name="lang" id="btn-check-{{lang}}" autocomplete="off">
									{{lang}}
								</label>
								<!-- <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-{{lang}}" name="lang" value={{lang}}>
								<label class="btn btn-secondary inactive-button" id = "toggle-button-{{lang}}" for="btn-check-{{lang}}">{{lang}} </label> -->
								{%endfor%}
							</div>
						</center>
					</div>
					<div class="row">
						<center>
							<text>Other: </text>
							<select name="otherlangs" id = "otherlangs">  
								{% for lang in otherlanguages %}
								<option value="{{lang}}">{{lang}}</option>
								{% endfor %}
							</select>
						</center>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-4">
					<div class="row">
						<center><p>Gender</p></center>
					</div>
					<center>
						<div class="btn-group btn-group-toggle" role="group" id="gender-btns" data-toggle="buttons">
							<label class="btn btn-outline-secondary" id ="toggle-button-Male">
								<input type="radio" name="gender" id="btn-check-Male" autocomplete="off">
								Male
							</label>
							<label class="btn btn-outline-secondary" id ="toggle-button-female">
								<input type="radio" name="gender" id="btn-check-female" autocomplete="off">
								Female
							</label>
						<!-- <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-male" name="gender" value="Male">
						<label class="btn btn-secondary inactive-button" id = "toggle-button-male" for="btn-check-male">Male</label>
						<input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-female" name="gender" value="Female">
						<label class="btn btn-secondary inactive-button" id = "toggle-button-female" for="btn-check-female">Female</label> -->
						</div>
					</center>
					<div class="row">
					<center>
						
						<text>Other: </text>
						<select name="othergenders" id = "othergenders"> 
						{% for gender in ['Non-Binary', 'TransMale', 'TransFemale', 'Other', 'Unknown'] %}
						<option value="{{gender}}">{{gender}}</option>
						{% endfor %}
						</select>
					</center>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="row">
						<center><p>Zip Code</p></center>
					</div>
					<center>
						<div class="btn-group btn-group-toggle" role="group" id="zipcode-btns" data-toggle="buttons">
							{%for option in ["08540", "08618", "08648", "08610", "Unknown"]%}
							<label class="btn btn-outline-secondary" id ="toggle-button-zipcode-{{option}}">
								<input type="radio" name="zip_code" id="btn-check-zipcode-{{option}}" autocomplete="off">
								{{option}}
							</label>
							<!-- <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-{{zip}}" name="zip_code" value={{zip}}>
							<label class="btn btn-secondary inactive-button" id = "toggle-button-{{zip}}" for="btn-check-{{zip}}">{{zip}} </label> -->
							{%endfor%}
						</div>
					</center>
					</div>
				
				<div class="col-sm-4">
					<div class="row">
						<center><p>Homeless</p></center>
					</div>
					<center>
						<div class="btn-group btn-group-toggle" role="group" id="homeless-btns" data-toggle="buttons">
							{%for option in ["True", "False", "Unknown"]%}
							<label class="btn btn-outline-secondary" id ="toggle-button-homeless-{{option}}">
								<input type="radio" name="homeless" id="btn-check-homeless-{{option}}" autocomplete="off">
								{{option}}
							</label>
							
							<!-- <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-{{zip}}" name="homeless" value={{zip}}>
							<label class="btn btn-secondary inactive-button" id = "toggle-button-{{zip}}" for="btn-check-{{zip}}">{{zip}} </label> -->
							{%endfor%}
						</div>
					</center>
					</div>
				</div>
				
			
			<div class = "row">
				<div class="col-sm-4">
					<div class="row">
						<center><p>Veteran</p></center>
					</div>
					<center>
						<div class="btn-group btn-group-toggle" role="group" id="veteran-btns" data-toggle="buttons">
							{%for option in ["True", "False", "Unknown"]%}
							{%if option == "True"%}
							{%set active = 'active-button'%}
							<label class="btn btn-outline-secondary active-button" id ="toggle-button-veteran-{{option}}" for="btn-check-veteran-{{option}}" checked>
								<input type="radio" name="veteran" id="btn-check-veteran-{{option}}" autocomplete="off">
								{{option}}
							</label>
							<!-- <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-veteran-{{option}}" autocomplete="off" name="veteran" value={{option}} checked>
							<label class="btn btn-secondary {{active}}" id = "toggle-button-veteran-{{option}}" for="btn-check-veteran-{{option}}">{{option}} </label> -->
							{% else %}
							{%set active = 'inactive-button'%}
							<label class="btn btn-outline-secondary inactive-button" id ="toggle-button-veteran-{{option}}" for="btn-check-veteran-{{option}}">
								<input type="radio" name="veteran" id="btn-check-veteran-{{option}}" autocomplete="off">
								{{option}}
							</label>
							<!-- <label class="btn btn-outline-secondary inactive">
								<input type="radio" name="veteran" id="btn-check-veteran-{{option}}" autocomplete="off">
								{{option}}
							</label> -->
							<!-- <input type="radio" class="mainButton" id="btn-check-veteran-{{option}}" autocomplete="off" name="veteran" value={{option}}>
							<label class="btn btn-secondary {{active}}" id = "toggle-button-veteran-{{option}}">{{option}} </label> -->
							{%endif%}
							
							{%endfor%}
						</div>
					</center>
					</div>
				
				<div class="col-sm-4">
					<div class="row">
						<center><p>Disabled</p></center>
					</div>
					<center>
						<div class="btn-group btn-group-toggle" role="group" id="disabled-btns" data-toggle="buttons">
							{%for option in ["True", "False", "Unknown"]%}
							<label class="btn btn-outline-secondary" id ="toggle-button-disabled-{{option}}">
								<input type="radio" name="disabled" id="btn-check-disabled-{{option}}" autocomplete="off">
								{{option}}
							</label>
							<!-- <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-disabled-{{option}}" name="disabled" value={{option}}> -->
							<!-- <label class="btn btn-secondary inactive-button" id = "toggle-button-disabled-{{option}}" for="btn-check-disabled-{{option}}">{{option}} </label> -->
							{%endfor%}
						</div>
					</center>
					</div>
				
				<div class="col-sm-4">
					<div class="row">
						<center><p>Guessed</p></center>
					</div>
					<center>
						<div class="btn-group btn-group-toggle" role="group" id="guessed-btns" data-toggle="buttons">
							{%for option in ["True", "False", "Unknown"]%}
							<label class="btn btn-outline-secondary" id ="toggle-button-guessed-{{option}}">
								<input type="radio" name="guessed" id="btn-check-guessed-{{option}}" autocomplete="off">
								{{option}}
							</label>
							
							<!-- <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-guessed-{{option}}" name="guessed" value={{option}}>
							<label class="btn btn-secondary inactive-button" id = "toggle-button-guessed-{{option}}" for="btn-check-guessed-{{option}}">{{option}} </label> -->
							{%endfor%}
						</div>
					</center>
					</div>
				</div>
			</div>
		</div>
		<div class="row"><br></div>
					
		<div class="row" style="justify-content:center">
			<tr>
				<div class="col-sm-3" style="width:58.5%; align-content:center;">
					<center>
						 <input id='submit' class="form-control patronInput mainButton enter-button"
							type="submit" value="Submit">
					</center>
				</div>
			</tr>
		</div>
		
		
        </form>
		<div class="row" style="justify-content:center; margin-left: 15%; margin-right: 15%; width:70%; justify-content:center; background-color:white"">
			<tr>
				<div class="col-sm-2 col-sm-offset-4" style="width:30%; align-content:left;">
					<center>
						<input id='getlast' class="form-control patronInput mainButton enter-button"
						type="button" onclick="location.href='/getlastpatron?mealsite={{mealsite}}';" value="Previous Submission">
					</center>
				</div>
				<div class="col-sm-2" style="width:30%; align-content:right;">
					<center>
						<input id='deletelast' class="form-control patronInput mainButton enter-button"
						type="button" onclick="location.href='/deletelastpatron?mealsite={{mealsite}}';" value="Undo Previous Submission">
					</center>
				</div>
			</tr>
		</div>
		
        <!-- {% include 'footer.html' %} -->
    </div>
	
</body>




<script>
	'use strict';

	// function deselect() {
    //       $(".btn-check").click(function() {
    //           $("#radiobtn1").prop("checked", true);
    //         });
    //     }

	$('label').click(function(e) {
		e.preventDefault();

		var radio = $(this).find('input[type=radio]');

		if (radio.is(':checked')) {
			e.stopImmediatePropagation();
			$(this).removeClass("active");
			// $(this).addClass("inactive");
			radio.prop('checked', false);
		} else {
			radio.prop('checked', true);
			$(this).addClass("active");
			// $(this).removeClass("inactive");

		}});
	

		// var checkbox = $(this).find('input[type=checkbox]');

		// if (checkbox.is(':checked')) {
		// 	e.stopImmediatePropagation();
		// 	$(this).removeClass("active");
		// 	$(this).addClass("inactive");
		// 	checkbox.prop('checked', false);
		// } else {
		// 	checkbox.prop('checked', true);
		// 	$(this).addClass("active");
		// 	$(this).removeClass("inactive");

		// }

	function validateForm() {
		
		var x = document.forms["patronForm"]["guessed"].value;
		console.log(x)
		if (x == '') {
		alert("Please select True or False for Guess.");
			return false;
		}
		return true;
	}
	function handleResponse(response)
	{
		$('#error').html(response);
	}
	let request = null;
	function getResults()
	{
		
		request = $.ajax(
			{
				type: 'GET',
				url:url,
				success: handleResponse
			}
		);
	}
	function setup()
	{
		$(window).on('load', getResults);
		$('#dept').on('input', getResults);
		$('#coursenum').on('input', getResults);
		$('#area').on('input', getResults);
		$('#title').on('input', getResults);
		
	}
	$('document').ready(setup);

</script>

<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
// <!-- <script type = "text/javascript" src = "/static/js/patrondatabuttons.js"></script> -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

</html>

<style>
	/* .active-button {
		background-color: #ff9f46;
	}

	input[type='radio']:after {
		color: #ff9f46;

	}

	.inactive-button {
		background-color: #bbb;
	} */
	
	.special-container{
		display: table;
		height: 100%;
	}

	.active{
		background-color: #ff9f46;
	}

	.vertical-center{
	display: table-cell;
	text-align: center;
	vertical-align: middle;
	}

	.active-recur-config {
		display: block !important;
	}

	.inactive-recur-config {
		display: none !important;
	}
	body {
	/* background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/Cathedral_of_St._Mary_of_the_Assumption_-_Trenton_02.JPG/1200px-Cathedral_of_St._Mary_of_the_Assumption_-_Trenton_02.JPG); */
	/* background-color: #cccccc; */
	}

</style>