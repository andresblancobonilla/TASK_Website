
<!-------------------------------------------------------------------------
submitpatrondata.html
Author: Vicky Feng
Sets up HTML page to input patron data
-------------------------------------------------------------------------->

<!DOCTYPE html>
<html>
    <head>
        <title>TASK.com</title>
        {% include 'imports.html' %}
    </head>
    <body class="forceOpenSans">
    {% include 'header.html' %}

    <div class="container-fluid">
        <div style="margin-top: 10px;">
            <center>
                <h2 style ="margin-left: 15%; margin-right: 15%; width:70%; justify-content:center; background-color:white">Enter Diner Data</h2>
                <hr>
                <h4 style ="margin-left: 15%; margin-right: 15%; width:70%; justify-content:center; background-color:white">You are in {{mealsite}}</h4>
            </center>
        </div>
		<!-- <script>
			function check()
			{
			 var check=document.getElementsByTagName('input');
			 for(var i=0;i<check.length;i++)
			 {
			  if(check[i].type=='checkbox')
			  {
			   check[i].checked=true;
			  }
			  if(check[i].type=='radio')
			  {
			   check[i].checked=true;
			  }
			 }
			}
			
			function uncheck()
			{
			 var uncheck=document.getElementsByTagName('input');
			 for(var i=0;i<uncheck.length;i++)
			 {
			  if(uncheck[i].type=='checkbox')
			  {
			   uncheck[i].checked=false;
			  }
			  if(check[i].type=='radio')
			  {
			   check[i].checked=false;
			  }
			 }
			}
			</script>
			<hr>
			<div id="wrapper" style="justify-content:center;">
				<center>
					<input type="button" value="Check All" onclick="check();">
					<input type="button" value="Uncheck All" onclick="uncheck();">
				</center>
			
		
			</div> -->
			<hr>
        
        <form id = "patronForm" action="/submitpatrondata?mealsite={{mealsite}}" onsubmit="return validateForm()" method="get" style="margin-left: 15%; margin-right: 15%; width:70%;background-color: white;">
            <div class="container fluid">
                <div class="row container fluid">
                    <div class= "col-sm-1"></div>
                    <div class="col-sm-3">
                        <center><p>Race (Select All That Apply):</p></center>
                    </div>
                    <div class="col-sm-6">
                        <center>
                            <!-- <text>Race (Select All That Apply):</text> -->
                            <div class="btn-group btn-group-toggle" role="group" id="race-btns" data-toggle="buttons">
                                {%for race in ['White/Caucasian','Black','Hispanic','Asian']%}
                                <input type="checkbox" class="patronInput mainButton" id="btn-check-{{race}}" name="race" value={{race}}>
                                <label class="btn btn-secondary inactive-button" id = "toggle-button-{{race}}" for="btn-check-{{race}}">{{race}}</label>
                                {%endfor%}
                                <div>
                                    <text> Other: </text>
                                                    <select name="otherraces" id = "otherraces">  
                                                        {% for race in ['Unknown', 'American Indian/Alaska Native', 'Native Hawaiian/ Pacific Islander'] %}
                                                        <option value="{{race}}">{{race}}</option>
                                                        {% endfor %}
                                                    </select>
                                </div>
                            </div>
                            
                        </center>
                    </div>
                    
                    <!-- <div class="row">
                        <center>
                            <text>Other: </text>
                            <select name="otherraces" id = "otherraces">  
                                {% for race in ['Unknown', 'American Indian/Alaska Native', 'Native Hawaiian/ Pacific Islander'] %}
                                <option value="{{race}}">{{race}}</option>
                                {% endfor %}
                            </select>
                        </center>
                    </div> -->
                </div>
                <div class="row"><br></div>
                <div class="row">
                    <!-- <div class="row">
                        <center><p>Language:</p></center>
                    </div> -->
                    
                    <div class="row">
                        <center>
                            <text>Language:</text>
                            <div class="btn-group btn-group-toggle" role="group" id="lang-btns" data-toggle="buttons">
                                {%for lang in ['English','Spanish']%}
                                <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-{{lang}}" name="lang" value={{lang}}>
                                <label class="btn btn-secondary inactive-button" id = "toggle-button-{{lang}}" for="btn-check-{{lang}}">{{lang}} </label>
                                {%endfor%}
                                <div>
                                    
                                    <text>Other: </text>
                                    <select name="otherlangs" id = "otherlangs">  
                                        {% for lang in otherlanguages %}
                                        <option value="{{lang}}">{{lang}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                        </center>
                    </div>
                    <!-- <div class="row">
                        <center>
                            <text>Other: </text>
                            <select name="otherlangs" id = "otherlangs">  
                                {% for lang in otherlanguages %}
                                <option value="{{lang}}">{{lang}}</option>
                                {% endfor %}
                            </select>
                        </center>
                    </div> -->
                </div>
                <div class="row"><br></div>
                <div class="row">
                    <!-- <div class="row">
                        <center><p>Age Range:</p></center>
                    </div> -->
                    <center>
                        <text>Age Range:</text>
                        <div class="btn-group btn-group-toggle" role="group" id="age-btns" data-toggle="buttons">
                            {%for age in ages%}
                            <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-{{age}}" name="age_range" value={{age}}>
                            <label class="btn btn-secondary inactive-button" id = "toggle-button-{{lang}}" for="btn-check-{{age}}">{{age}} </label>
                            {%endfor%}
                        </div>
                    </center>
                </div>
                <div class="row"><br></div>
                <div class="row">
                    <!-- <div class="row">
                        <center><p>Gender:</p></center>
                    </div> -->
                    <div class="row">
                        <center>
                            <text>Gender:</text>
                            <div class="btn-group btn-group-toggle" role="group" id="gender-btns" data-toggle="buttons">
                                {%for gender in ['Male','Female']%}
                                <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-{{gender}}" name="gender" value={{gender}}>
                                <label class="btn btn-secondary inactive-button" id = "toggle-button-{{gender}}" for="btn-check-{{gender}}">{{gender}} </label>
                                {%endfor%}
                                <div>
                                    <center>
                                        <br>
                                        <text>Other: </text>
                                        <select name="othergenders" id = "othergenders">  
                                            {% for gender in ['Non-Binary', 'TransMale', 'TransFemale', 'Other', 'Unknown'] %}
                                            <option value="{{gender}}">{{gender}}</option>
                                            {% endfor %}
                                        </select>
                                    </center>
                                </div>
                            </div>
                        </center>
                    </div>
                </div>
                <div class="row"><br></div>
                <div class="row">
                    <!-- <div class="row">
                        <center><p>Zip Code:</p></center>
                    </div> -->
                    <center>
                        <text>Zip Code: </text>
                        <div class="btn-group btn-group-toggle" role="group" id="zipcode-btns" data-toggle="buttons">
                            {%for zipcode in zip_codes%}
                            <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-zipcode-{{zipcode}}" name="zip_codes" value={{zipcode}}>
                            <label class="btn btn-secondary inactive-button" id = "toggle-button-{{zipcode}}" for="btn-check-zipcode-{{zipcode}}">{{zipcode}} </label>
                            {%endfor%}
                        </div>
                    </center>
                </div>
                <div class="row"><br></div>
                <div class="row">
                        <!-- <div class="row">
                            <center><p>Homeless:</p></center>
                        </div> -->
                        <center>
                            <text>Homeless: </text>
                            <div class="btn-group btn-group-toggle" role="group" id="homeless-btns" data-toggle="buttons">
                                {%for homeless in ['True', 'False', 'Unknown']%}
                                <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-homeless-{{homeless}}" name="homeless" value={{homeless}}>
                                <label class="btn btn-secondary inactive-button" id = "toggle-button-homeless-{{homeless}}" for="btn-check-homeless-{{homeless}}">{{homeless}} </label>
                                {%endfor%}
                            </div>
                        </center>
                    </div>  
                </div>
                <div class="row"><br></div>
                <div class="row">
                    <div class="row">
                        <!-- <div class="row">
                            <center><p>Veteran:</p></center>
                        </div> -->
                        <center>
                            <text>Veteran: </text>
                            <div class="btn-group btn-group-toggle" role="group" id="veteran-btns" data-toggle="buttons">
                                {%for veteran in ['True', 'False', 'Unknown']%}
                                <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-veteran-{{veteran}}" name="veteran" value={{veteran}}>
                                <label class="btn btn-secondary inactive-button" id = "toggle-button-veteran-{{veteran}}" for="btn-check-veteran-{{veteran}}">{{veteran}} </label>
                                {%endfor%}
                            </div>
                        </center>
                    </div>  
                </div>
                <div class="row"><br></div>
				<div class="row">
					<!-- <div class="row">
						<center><p>Homeless:</p></center>
					</div> -->
					<center>
						<text>Disabled: </text>
						<div class="btn-group btn-group-toggle" role="group" id="disabled-btns" data-toggle="buttons">
							{%for disabled in ['True', 'False', 'Unknown']%}
							<input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-disabled-{{disabled}}" name="disabled" value={{disabled}}>
							<label class="btn btn-secondary inactive-button" id = "toggle-button-disabled-{{disabled}}" for="btn-check-disabled-{{disabled}}">{{disabled}} </label>
							{%endfor%}
						</div>
					</center>
				</div>  
			</div>
			<div class="row"><br></div>
                <div class="row">
                    <div class="row">
                        <!-- <div class="row">
                            <center><p>Guessed:</p></center>
                        </div> -->
                        <center>
                            <text>Guessed: </text>
                            <div class="btn-group btn-group-toggle" role="group" id="guessed-btns" data-toggle="buttons">
                                {%for guessed in ['True', 'False']%}
                                <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-guessed-{{guessed}}" name="guessed" value={{guessed}}>
                                <label class="btn btn-secondary inactive-button" id = "toggle-button-guessed-{{guessed}}" for="btn-check-guessed-{{guessed}}">{{guessed}} </label>
                                {%endfor%}
                            </div>
                        </center>
                    </div>
                </div>

            </div>



            <!-- <center> -->
            <!-- <table> -->
                <!-- <tr>
                    <td align="right">Race (Select All That Apply): </td>
                    <td>
                        <center>
                        <div class="btn-group btn-group-toggle" role="group" id="race-btns" data-toggle="buttons">
                            {%for option in ['White','Black','Hispanic','Asian','American Indian', 'Pacific Islander', 'Unknown']%}
                            {% if (racecheck==option) %}
                            <input type="checkbox" checked class="btn-check form-control patronInput mainButton" id="btn-check-{{option}}" name="{{option}}" value={{race}}>
                            <label class="btn btn-secondary inactive-button" id = "toggle-button-{{race}}" for="btn-check-{{race}}">{{option}}</label>
                            {% else %}
                            <input type="checkbox" class="btn-check form-control patronInput mainButton" id="btn-check-{{option}}" name="{{option}}" value={{race}}>
                            <label class="btn btn-secondary inactive-button" id = "toggle-button-{{race}}" for="btn-check-{{race}}">{{option}}</label>
                            {% endif %}
                            {% endfor %}
                        </div>
                        </center>
                    </td>
                </tr> -->
                <!-- <tr>
                    <td align="right">Language: </td>
                    <td>
                        <div class="btn-group btn-group-toggle" role="group" id="lang-btns" data-toggle="buttons">
                            {%for lang in ["English", "Spanish", "ASL", "Arabic", "Bengali",
                            "Chinese", "Creole"]%}
                            <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-{{lang}}" name="language" value={{lang}}>
                            <label class="btn btn-secondary inactive-button" id = "toggle-button-{{lang}}" for="btn-check-{{lang}}">{{lang}} </label>
                            {%endfor%} 
                        </div>
                        <text>Other: </text>
                        <select name="otherlangs" id = "otherlangs">  
                            {% for lang in otherlanguages %}
                            <option value="{{lang}}">{{lang}}</option>
                            {% endfor %}
                        </select>
                    </td>
                </tr> -->
                <!-- <tr>
                    <td align="right">Age range:</td>
                    <td>
                        <input class="form-select patronInput" name="age_range" list = "ages">
                    </td>
                </tr> -->
                <!-- <tr>
                    <td align="right">Gender:</td>
                    <td>
                        <div class="btn-group btn-group-toggle" role="group" id="gender-btns" data-toggle="buttons">
                        <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-male" name="gender" value="Male">
                        <label class="btn btn-secondary inactive-button" id = "toggle-button-male" for="btn-check-male">Male</label>
                        <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-female" name="gender" value="Female">
                        <label class="btn btn-secondary inactive-button" id = "toggle-button-female" for="btn-check-female">Female</label>
                        </div>
                            <text> Other: </text>
                            <select name="othergenders" id = "othergenders">  
                                {% for gender in ['Non-Binary', 'TransMale', 'TransFemale', 'Other', 'Unknown'] %}
                                <option value="{{gender}}">{{gender}}</option>
                                {% endfor %}
                            </select>
                    </td>
                </tr> -->
                <!-- <tr>
                    <td align="right">Zip code:</td>
                    <td>
                        <input class="form-select patronInput" name="zip_codes" list = "zip_codes">
                    </td>
                </tr> -->
                <!-- <tr>
                    <td align="right">Homeless:</td>
                    <td>
                        <div class = 'row'>
                            <div class="btn-group btn-group-toggle" role="group" data-toggle = "buttons">
                                {%for option in ['True', 'False', 'Unknown'] %}
                                <input type="radio" class="btn-check form-control patronInput" id="btn-check-homeless-{{option}}" name="homeless" value={{option}}>
                                <label class="btn btn-secondary inactive-button" id = "toggle-button-{{option}}" for="btn-check-homeless-{{option}}">{{option}} </label>
                                {%endfor%}
                            </div>
                        </div>
                    </td>
                </tr> -->
                <!-- <tr>
                    <td align="right">Veteran:</td>
                    <td>
                        <div class = 'row'>
                            <div class="btn-group btn-group-toggle" role="group" data-toggle = "buttons">
                                {%for option in ['True', 'False', 'Unknown'] %}
                                <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-veteran-{{option}}" name="veteran" value={{option}}>
                                <label class="btn btn-secondary inactive-button" id = "toggle-button-{{option}}" for="btn-check-veteran-{{option}}">{{option}} </label>
                                {%endfor%}
                            </div>
                        </div>
                    </td>
                </tr> -->
                <!-- <tr>
                    <td align="right">Disabled:</td>
                    <td>
                        <div class = 'row'>
                            <div class="btn-group btn-group-toggle" role="group" data-toggle = "buttons">
                                {%for option in ['True', 'False', 'Unknown'] %}
                                <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-disabled-{{option}}" name="disabled" value={{option}}>
                                <label class="btn btn-secondary inactive-button" id = "toggle-button-{{option}}" for="btn-check-disabled-{{option}}">{{option}} </label>
                                {%endfor%}
                            </div>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td align="right">Diner response:</td>
                    <td>
                        <div class = 'row'>
                            <div class="btn-group btn-group-toggle" role="group" data-toggle = "buttons">
                                {%for option in ['True', 'False'] %}
                                <input type="radio" class="btn-check form-control patronInput mainButton" id="btn-check-presp-{{option}}" name="presp" value={{option}}>
                                <label class="btn btn-secondary inactive-button" id = "toggle-button-{{option}}" for="btn-check-presp-{{option}}">{{option}} </label>
                                {%endfor%}
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </center> -->
        <div class="row" style="justify-content:center">
            <tr>
                <div class="col-sm-3" style="width:58.5%; align-content:center;">
                    <center>
                         <input id='submit' class="form-control patronInput mainButton enter-button"
                            type="submit" value="Submit">
                    </center>
                </div>
            </tr>
        </div>
        
        </form>
        <div class="row" style="justify-content:center; margin-left: 15%; margin-right: 15%; width:70%; justify-content:center; background-color:white"">
            <tr>
                <div class="col-sm-2 col-sm-offset-4" style="width:30%; align-content:left;">
                    <center>
                        <input id='getlast' class="form-control patronInput mainButton enter-button"
                        type="button" onclick="location.href='/getlastpatron?mealsite={{mealsite}}';" value="Previous Submission">
                    </center>
                </div>
                <div class="col-sm-2" style="width:30%; align-content:right;">
                    <center>
                        <input id='deletelast' class="form-control patronInput mainButton enter-button"
                        type="button" onclick="location.href='/deletelastpatron?mealsite={{mealsite}}';" value="Undo Previous Submission">
                    </center>
                </div>
            </tr>
        </div>
        
        {% include 'footer.html' %}
    </div>
    
</body>

<script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js">
</script>

<script>
    'use strict';
    function validateForm() {
        
        var x = document.forms["patronForm"]["presp"].value;
        console.log(x)
        if (x == '') {
        alert("Please select True or False for Guess.");
            return false;
        }
        return true;
    }
    function handleResponse(response)
    {
        $('#error').html(response);
    }
    let request = null;
    function getResults()
    {
        
        request = $.ajax(
            {
                type: 'GET',
                url:url,
                success: handleResponse
            }
        );
    }
    function setup()
    {
        $(window).on('load', getResults);
        $('#dept').on('input', getResults);
        $('#coursenum').on('input', getResults);
        $('#area').on('input', getResults);
        $('#title').on('input', getResults);
    }
    $('document').ready(setup);
</script>

</html>

<style>
    .active-button {
        background-color: #ff9f46;
    }

    .inactive-button {
        background-color: #bbb;
    }
    
    .special-container{
        display: table;
        height: 100%;
    }

    .vertical-center{
    display: table-cell;
    text-align: center;
    vertical-align: middle;
    }

    .active-recur-config {
        display: block !important;
    }

    .inactive-recur-config {
        display: none !important;
    }
    /* body {
    background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/Cathedral_of_St._Mary_of_the_Assumption_-_Trenton_02.JPG/1200px-Cathedral_of_St._Mary_of_the_Assumption_-_Trenton_02.JPG);
    background-color: #cccccc;
    } */

</style>

